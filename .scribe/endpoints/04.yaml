name: 'Calendar Authentication'
description: ''
endpoints:
  -
    httpMethods:
      - GET
    uri: api/v1/auth/microsoft/url
    metadata:
      groupName: 'Calendar Authentication'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Get Microsoft OAuth authorization URL.'
      description: |-
        Generates the authorization URL that the business owner needs to visit
        to grant calendar permissions to the application.
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_SANCTUM_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      user_identifier:
        name: user_identifier
        description: 'User identifier (usually business owner email).'
        required: false
        example: owner@business.com
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      redirect_uri:
        name: redirect_uri
        description: 'Optional custom redirect URI.'
        required: false
        example: 'https://yourapp.com/auth/callback'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanQueryParameters:
      user_identifier: owner@business.com
      redirect_uri: 'https://yourapp.com/auth/callback'
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: '{"auth_url":"https:\/\/login.microsoftonline.com\/common\/oauth2\/v2.0\/authorize?client_id=&response_type=code&redirect_uri=https%3A%2F%2Fyourapp.com%2Fauth%2Fcallback&scope=https%3A%2F%2Fgraph.microsoft.com%2FCalendars.ReadWrite+https%3A%2F%2Fgraph.microsoft.com%2Foffline_access&state=2nO2qQ3pevntrjEVfAe7nRMUgVbDh7FS&response_mode=query&prompt=consent","state":"2nO2qQ3pevntrjEVfAe7nRMUgVbDh7FS","expires_in":600,"instructions":"Visit the auth_url to grant calendar permissions, then return to handle the callback."}'
        headers:
          cache-control: 'no-cache, private'
          content-type: application/json
          access-control-allow-origin: '*'
        description: null
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer your_generated_sanctum_token_here'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - GET
    uri: api/v1/auth/microsoft/callback
    metadata:
      groupName: 'Calendar Authentication'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Handle OAuth callback from Microsoft.'
      description: |-
        This endpoint processes the OAuth callback from Microsoft and exchanges
        the authorization code for access tokens.
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_SANCTUM_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      code:
        name: code
        description: 'Authorization code from Microsoft.'
        required: true
        example: M.C507_BAY.2.U.4d8d1234-5678-90ab-cdef-1234567890ab
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      state:
        name: state
        description: 'State parameter to prevent CSRF attacks.'
        required: true
        example: abc123def456
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      error:
        name: error
        description: 'Error code if authorization failed.'
        required: false
        example: access_denied
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      error_description:
        name: error_description
        description: 'Error description if authorization failed.'
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
    cleanQueryParameters:
      code: M.C507_BAY.2.U.4d8d1234-5678-90ab-cdef-1234567890ab
      state: abc123def456
      error: access_denied
      error_description: architecto
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 400
        content: '{"error":"Authorization denied","details":"architecto"}'
        headers:
          cache-control: 'no-cache, private'
          content-type: application/json
          access-control-allow-origin: '*'
        description: null
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer your_generated_sanctum_token_here'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - GET
    uri: api/v1/auth/microsoft/status
    metadata:
      groupName: 'Calendar Authentication'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Get current authentication status.'
      description: ''
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_SANCTUM_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      user_identifier:
        name: user_identifier
        description: 'User identifier to check.'
        required: false
        example: owner@business.com
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanQueryParameters:
      user_identifier: owner@business.com
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 401
        content: '{"message":"Unauthenticated."}'
        headers:
          cache-control: 'no-cache, private'
          content-type: application/json
          access-control-allow-origin: '*'
        description: null
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer your_generated_sanctum_token_here'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/v1/auth/microsoft/refresh
    metadata:
      groupName: 'Calendar Authentication'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Refresh access token.'
      description: ''
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_SANCTUM_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      user_identifier:
        name: user_identifier
        description: 'User identifier to refresh token for.'
        required: false
        example: owner@business.com
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanQueryParameters:
      user_identifier: owner@business.com
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer your_generated_sanctum_token_here'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/v1/auth/microsoft/disconnect
    metadata:
      groupName: 'Calendar Authentication'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Disconnect calendar integration.'
      description: ''
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_SANCTUM_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      user_identifier:
        name: user_identifier
        description: 'User identifier to disconnect.'
        required: false
        example: owner@business.com
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanQueryParameters:
      user_identifier: owner@business.com
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer your_generated_sanctum_token_here'
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - GET
    uri: api/v1/auth/microsoft/test
    metadata:
      groupName: 'Calendar Authentication'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Test calendar connection.'
      description: ''
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Authorization: 'Bearer Bearer {YOUR_SANCTUM_TOKEN}'
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      user_identifier:
        name: user_identifier
        description: 'User identifier to test.'
        required: false
        example: owner@business.com
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanQueryParameters:
      user_identifier: owner@business.com
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 401
        content: '{"message":"Unauthenticated."}'
        headers:
          cache-control: 'no-cache, private'
          content-type: application/json
          access-control-allow-origin: '*'
        description: null
        custom: []
    responseFields: []
    auth:
      - headers
      - Authorization
      - 'Bearer your_generated_sanctum_token_here'
    controller: null
    method: null
    route: null
    custom: []
